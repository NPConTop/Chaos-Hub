if not game:IsLoaded() then game.Loaded:Wait() end

local TweenService = game:GetService("TweenService")
local SoundService = game:GetService("SoundService")
local Lighting = game:GetService("Lighting")
local PlayerGui = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Blur
local blur = Instance.new("BlurEffect", Lighting)
blur.Size = 12

-- GUI
local gui = Instance.new("ScreenGui", PlayerGui)
gui.Name = "ChaosLoader"
gui.IgnoreGuiInset = true
gui.ResetOnSpawn = false

gui.Destroying:Connect(function()
	if blur then blur:Destroy() end
end)

-- Frame
local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 420, 0, 260)
frame.Position = UDim2.new(0.5, 0, 1.5, 0)
frame.AnchorPoint = Vector2.new(0.5, 0.5)
frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
frame.BackgroundTransparency = 0.3
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 12)

-- Rainbow Border
local stroke = Instance.new("UIStroke", frame)
stroke.Thickness = 3
stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
task.spawn(function()
	local hue = 0
	while stroke and stroke.Parent do
		stroke.Color = ColorSequence.new(Color3.fromHSV(hue, 1, 1))
		hue = (hue + 0.01) % 1
		task.wait(0.03)
	end
end)

-- Animate In
TweenService:Create(frame, TweenInfo.new(0.7, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
	Position = UDim2.new(0.5, 0, 0.5, 0)
}):Play()

-- Close
local closeButton = Instance.new("TextButton", frame)
closeButton.Size = UDim2.new(0, 40, 0, 40)
closeButton.Position = UDim2.new(1, -45, 0, 5)
closeButton.BackgroundTransparency = 1
closeButton.Text = "EXITs"
closeButton.TextColor3 = Color3.fromRGB(255, 70, 70)
closeButton.Font = Enum.Font.FredokaOne
closeButton.TextSize = 24
closeButton.ZIndex = 10
closeButton.MouseButton1Click:Connect(function()
	gui:Destroy()
end)

-- Title
local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, -50, 0, 40)
title.Position = UDim2.new(0, 10, 0, 5)
title.BackgroundTransparency = 1
title.Text = "CHAOS MULTI LOADER"
title.Font = Enum.Font.FredokaOne
title.TextSize = 26
title.TextColor3 = Color3.fromRGB(255, 70, 70)
title.TextXAlignment = Enum.TextXAlignment.Left

-- Floating Status
local status = Instance.new("TextLabel", gui)
status.Size = UDim2.new(0, 300, 0, 50)
status.Position = UDim2.new(0.5, 0, 0.4, 0)
status.AnchorPoint = Vector2.new(0.5, 0.5)
status.Text = "LOADER HAS BEEN RUN"
status.Font = Enum.Font.GothamBold
status.TextSize = 20
status.TextColor3 = Color3.fromRGB(255,255,255)
status.BackgroundTransparency = 1
TweenService:Create(status, TweenInfo.new(0.6), {TextTransparency = 0}):Play()
task.wait(2.5)
TweenService:Create(status, TweenInfo.new(0.6), {TextTransparency = 1}):Play()
task.delay(0.7, function() status:Destroy() end)

-- Sound
local introSound = Instance.new("Sound", SoundService)
introSound.SoundId = "rbxassetid://9118823107"
introSound.Volume = 2
introSound:Play()

local bgSound = Instance.new("Sound", SoundService)
bgSound.SoundId = "rbxassetid://9120070652"
bgSound.Volume = 0.5
bgSound.Looped = true
bgSound:Play()

gui.Destroying:Connect(function()
	bgSound:Stop()
	bgSound:Destroy()
end)

-- Particle
local attachment = Instance.new("Attachment", frame)
local particle = Instance.new("ParticleEmitter", attachment)
particle.Texture = "rbxassetid://284205403"
particle.Lifetime = NumberRange.new(1)
particle.Rate = 20
particle.Speed = NumberRange.new(0.5, 1.5)
particle.Size = NumberSequence.new(0.2)
particle.Rotation = NumberRange.new(0, 360)
particle.RotSpeed = NumberRange.new(10, 20)
particle.Color = ColorSequence.new(Color3.fromRGB(255, 70, 70))
particle.LightInfluence = 1
particle.Transparency = NumberSequence.new({
	NumberSequenceKeypoint.new(0, 0),
	NumberSequenceKeypoint.new(1, 1)
})

-- Scrolling Frame
local scrolling = Instance.new("ScrollingFrame", frame)
scrolling.Size = UDim2.new(1, -20, 1, -60)
scrolling.Position = UDim2.new(0, 10, 0, 50)
scrolling.CanvasSize = UDim2.new(0, 0, 0, 0)
scrolling.BackgroundTransparency = 1
scrolling.ScrollBarThickness = 4

local layout = Instance.new("UIListLayout", scrolling)
layout.Padding = UDim.new(0, 8)
layout.SortOrder = Enum.SortOrder.LayoutOrder
layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
	scrolling.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 10)
end)

-- Utility
local function createButton(text, callback)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(1, 0, 0, 36)
	btn.Text = text
	btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 16
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)
	btn.MouseButton1Click:Connect(callback)
	return btn
end

-- Label: One Fruit Simulator
local labelOFS = Instance.new("TextLabel", scrolling)
labelOFS.Size = UDim2.new(1, 0, 0, 24)
labelOFS.BackgroundTransparency = 1
labelOFS.Text = "One Fruit Simulator"
labelOFS.Font = Enum.Font.GothamBold
labelOFS.TextSize = 14
labelOFS.TextColor3 = Color3.fromRGB(255, 255, 255)

-- Nexus & OMG Hub Buttons
local buttons = {
	{"Nexus Hub", "https://api.luarmor.net/files/v3/loaders/86de6d175e585ef6c1c7f4bdebfc57cc.lua"},
	{"OMG Hub", "https://raw.githubusercontent.com/omgeternalhub/loader/main/loader.lua"},
}

for _, entry in ipairs(buttons) do
	local btn = createButton(entry[1], function()
		local running = Instance.new("TextLabel", gui)
		running.Size = UDim2.new(0, 220, 0, 30)
		running.Position = UDim2.new(1, -230, 1, -40)
		running.AnchorPoint = Vector2.new(0, 1)
		running.BackgroundTransparency = 1
		running.Text = "SCRIPT IS RUNNING..."
		running.Font = Enum.Font.GothamBold
		running.TextSize = 14
		running.TextColor3 = Color3.fromRGB(255, 255, 255)

		TweenService:Create(running, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
		task.wait(1)
		TweenService:Create(running, TweenInfo.new(0.5), {TextTransparency = 1}):Play()
		task.wait(0.5)
		running:Destroy()

		loadstring(game:HttpGet(entry[2]))()
		gui:Destroy()
	end)
	btn.Parent = scrolling
end

-- Static Game Labels
local games = {
	"UNIVERSAL MENU", "BEAKS", "BLOX FRUIT", "BLUE LOCK", "ARISE CROSSOVER", "FISCH", "LEGEND OF SPEED",
	"NINJA LEGENDS", "SURVIVE THE KILLER", "DEAD RAILS", "BROOKHAVEN", "MURDER MYSTERY 2",
	"THE STRONGEST BATTLEGROUNDS", "MUSCLE LEGENDS", "Doors", "Blade Ball", "Rivals", "A Dusty Trip",
	"Pets Go", "Arsenal", "3008", "Dead Sails", "CDID", "Build a Boat for Treasure", "Sols RNG",
	"Natural Disaster", "Broken Bone IV", "Ultimate Battlegrounds", "Taxi Boss", "Hide or Die",
	"Arm Wrestle Simulator", "Combat Warrior", "Eat the World", "Zombie Attack", "King Legacy",
	"Fruit Battlegrounds", "Evade"
}

for _, name in ipairs(games) do
	local label = Instance.new("TextLabel", scrolling)
	label.Size = UDim2.new(1, 0, 0, 24)
	label.BackgroundTransparency = 1
	label.Text = name
	label.Font = Enum.Font.GothamBold
	label.TextSize = 14
	label.TextColor3 = Color3.fromRGB(255, 255, 255)
end

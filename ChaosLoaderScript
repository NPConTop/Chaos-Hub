if not game:IsLoaded() then game.Loaded:Wait() end

local TweenService = game:GetService("TweenService")
local SoundService = game:GetService("SoundService")
local Lighting = game:GetService("Lighting")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

-- Background Blur
local blur = Instance.new("BlurEffect", Lighting)
blur.Size = 12

-- GUI Setup
local gui = Instance.new("ScreenGui")
gui.Name = "ChaosLoader"
gui.IgnoreGuiInset = true
gui.ResetOnSpawn = false
gui.Parent = LocalPlayer:WaitForChild("PlayerGui")

gui.Destroying:Connect(function()
	if blur then blur:Destroy() end
end)

-- Shadow Frame (Highlight)
local shadow = Instance.new("ImageLabel", gui)
shadow.AnchorPoint = Vector2.new(0.5, 0.5)
shadow.Position = UDim2.new(0.5, 0, 0.5, 10)
shadow.Size = UDim2.new(0, 450, 0, 280)
shadow.BackgroundTransparency = 1
shadow.Image = "rbxassetid://1316045217"
shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
shadow.ImageTransparency = 0.7
shadow.ScaleType = Enum.ScaleType.Slice
shadow.SliceCenter = Rect.new(10, 10, 118, 118)
shadow.ZIndex = 0

-- Main Frame
local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 420, 0, 260)
frame.Position = UDim2.new(0.5, 0, 1.5, 0)
frame.AnchorPoint = Vector2.new(0.5, 0.5)
frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
frame.BackgroundTransparency = 0.3
frame.BorderSizePixel = 0
frame.ZIndex = 1
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 12)

-- Animate in
TweenService:Create(frame, TweenInfo.new(0.7, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
	Position = UDim2.new(0.5, 0, 0.5, 0)
}):Play()
TweenService:Create(shadow, TweenInfo.new(0.7, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
	Position = UDim2.new(0.5, 0, 0.5, 10)
}):Play()

-- Floating Label
local floating = Instance.new("TextLabel", gui)
floating.Size = UDim2.new(0, 350, 0, 40)
floating.Position = UDim2.new(0.5, -175, 0.45, 0)
floating.BackgroundTransparency = 1
floating.Text = "LOADER HAS RUNNING"
floating.Font = Enum.Font.FredokaOne
floating.TextColor3 = Color3.fromRGB(255, 70, 70)
floating.TextSize = 24
floating.TextTransparency = 1
TweenService:Create(floating, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
task.delay(2.5, function()
	TweenService:Create(floating, TweenInfo.new(0.5), {TextTransparency = 1}):Play()
end)

-- Drag Function
local dragging, dragInput, dragStart, startPos
frame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = frame.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then dragging = false end
		end)
	end
end)

frame.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement then dragInput = input end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
	if input == dragInput and dragging then
		local delta = input.Position - dragStart
		frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
		shadow.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y + 10)
	end
end)

-- Close Button
local closeButton = Instance.new("TextButton", frame)
closeButton.Size = UDim2.new(0, 40, 0, 40)
closeButton.Position = UDim2.new(1, -45, 0, 5)
closeButton.BackgroundTransparency = 1
closeButton.Text = "X"
closeButton.TextColor3 = Color3.fromRGB(255, 70, 70)
closeButton.Font = Enum.Font.FredokaOne
closeButton.TextSize = 24
closeButton.ZIndex = 10
closeButton.MouseButton1Click:Connect(function() gui:Destroy() end)

-- Title and Status
local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 10)
title.BackgroundTransparency = 1
title.Text = "CHAOS MULTI LOADER"
title.Font = Enum.Font.FredokaOne
title.TextSize = 28
title.TextColor3 = Color3.fromRGB(255, 70, 70)
title.TextTransparency = 1

local status = Instance.new("TextLabel", frame)
status.Size = UDim2.new(1, 0, 0, 30)
status.Position = UDim2.new(0, 0, 1, -30)
status.BackgroundTransparency = 1
status.Text = "LOADER HAS BEEN RUN"
status.Font = Enum.Font.GothamBold
status.TextSize = 16
status.TextColor3 = Color3.fromRGB(255, 255, 255)
status.TextTransparency = 1

TweenService:Create(title, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
TweenService:Create(status, TweenInfo.new(0.5), {TextTransparency = 0}):Play()

-- Sound
local introSound = Instance.new("Sound", SoundService)
introSound.SoundId = "rbxassetid://9118823107"
introSound.Volume = 2
introSound:Play()

-- Utility
local function createLabel(text, posY)
	local lbl = Instance.new("TextLabel", frame)
	lbl.Size = UDim2.new(1, -20, 0, 25)
	lbl.Position = UDim2.new(0, 10, 0, posY)
	lbl.BackgroundTransparency = 1
	lbl.Text = text
	lbl.Font = Enum.Font.GothamBold
	lbl.TextColor3 = Color3.fromRGB(255, 255, 255)
	lbl.TextSize = 14
	return lbl
end

local function createSeparator(posY)
	local sep = Instance.new("Frame", frame)
	sep.Size = UDim2.new(0.9, 0, 0, 2)
	sep.Position = UDim2.new(0.05, 0, 0, posY)
	sep.BackgroundColor3 = Color3.fromRGB(150, 150, 150)
	sep.BorderSizePixel = 0
end

local function createButton(name, posY, callback)
	local btn = Instance.new("TextButton", frame)
	btn.Size = UDim2.new(0.8, 0, 0, 35)
	btn.Position = UDim2.new(0.1, 0, 0, posY)
	btn.Text = name
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 16
	btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)
	btn.MouseButton1Click:Connect(callback)
	return btn
end

-- Game List
local ypos = 60
createLabel("One Fruit Simulator", ypos)
ypos += 25
createSeparator(ypos)
ypos += 10

local games = {
	{"Nexus Hub", "loadstring(game:HttpGet('https://api.luarmor.net/files/v3/loaders/86de6d175e585ef6c1c7f4bdebfc57cc.lua'))()"},
	{"OMG Hub", "loadstring(game:HttpGet('https://raw.githubusercontent.com/omgeternalhub/loader/main/loader.lua'))()"},
	-- Game label only
	"UNIVERSAL MENU", "BEAKS", "BLOX FRUIT", "BLUE LOCK"
}

for _, entry in ipairs(games) do
	if type(entry) == "table" then
		ypos += 5
		local btn = createButton(entry[1], ypos, function()
			status.Text = "SCRIPT IS RUNNING..."
			status.TextTransparency = 0
			loadstring(entry[2])()
			TweenService:Create(status, TweenInfo.new(0.5), {TextTransparency = 1}):Play()
			gui:Destroy()
		end)
		ypos += 40
	elseif type(entry) == "string" then
		createLabel(entry, ypos)
		ypos += 25
		createSeparator(ypos)
		ypos += 10
	end
end
